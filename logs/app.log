19-Dec-21 19:31:36 - log - INFO - http://mlflow:5000/
19-Dec-21 19:31:36 - urllib3.connectionpool - WARNING - Retrying (Retry(total=4, connect=4, read=5, redirect=5, status=5)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f4317b9f0d0>: Failed to establish a new connection: [Errno 111] Connection refused')': /api/2.0/mlflow/experiments/get-by-name?experiment_name=classification
19-Dec-21 19:31:40 - urllib3.connectionpool - WARNING - Retrying (Retry(total=3, connect=3, read=5, redirect=5, status=5)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f4317b8aeb0>: Failed to establish a new connection: [Errno 111] Connection refused')': /api/2.0/mlflow/experiments/get-by-name?experiment_name=classification
19-Dec-21 19:31:45 - werkzeug - WARNING -  * Running on all addresses.
   WARNING: This is a development server. Do not use it in a production deployment.
19-Dec-21 19:31:45 - werkzeug - INFO -  * Running on http://172.22.0.2:8080/ (Press CTRL+C to quit)
19-Dec-21 19:31:45 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:31:45] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:31:50 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:31:50] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:31:55 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:31:55] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:00 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:00] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:05 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:05] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:10 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:10] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:15 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:15] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:20 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:20] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:23 - log - INFO - http://mlflow:5000/
19-Dec-21 19:32:25 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:25] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:30 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:30] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:35 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:35] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:40 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:40] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:45 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:45] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:50 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:50] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:32:55 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:32:55] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:00 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:00] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:05 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:05] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:10 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:10] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:11 - log - INFO - http://mlflow:5000/
19-Dec-21 19:33:12 - log - INFO - Trained models = {1: {}, 2: {}}
19-Dec-21 19:33:12 - log - INFO - MODEL id = 1 CLASS = logreg TRAINED = False
19-Dec-21 19:33:12 - log - INFO - MODEL id = 2 CLASS = tree TRAINED = False
19-Dec-21 19:33:12 - log - INFO - Preparing to train...
19-Dec-21 19:33:12 - log - INFO - Start training
19-Dec-21 19:33:15 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:15] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:20 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:20] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:21 - log - INFO - Training finished!
19-Dec-21 19:33:21 - log - INFO - Saving the model...
19-Dec-21 19:33:21 - log - INFO - Model 'trained' status changed to True
19-Dec-21 19:33:21 - log - INFO - Preparing to train...
19-Dec-21 19:33:21 - log - INFO - Start training
19-Dec-21 19:33:25 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:25] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:30 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:30] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:30 - log - INFO - Training finished!
19-Dec-21 19:33:30 - log - INFO - Saving the model...
19-Dec-21 19:33:30 - log - INFO - Model 'trained' status changed to True
19-Dec-21 19:33:30 - log - INFO - Here is the prediction: {'Prediction': '[0]'} for 1
19-Dec-21 19:33:30 - log - INFO - Here is the prediction: {'Prediction': '[0]'} for 2
19-Dec-21 19:33:30 - log - INFO - INFO: Prepating to retrain...
19-Dec-21 19:33:30 - log - INFO - Start retraining
19-Dec-21 19:33:30 - log - INFO - 0
19-Dec-21 19:33:35 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:35] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:37 - log - INFO - Retraining finished!
19-Dec-21 19:33:37 - app - ERROR - Exception on /api/ml_models/1/retrain [PUT]
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/prometheus_flask_exporter/__init__.py", line 656, in func
    response = f(*args, **kwargs)
  File "/usr/src/app/app/views.py", line 67, in put
    model = load(path)
  File "/usr/local/lib/python3.8/site-packages/joblib/numpy_pickle.py", line 577, in load
    with open(filename, 'rb') as f:
TypeError: expected str, bytes or os.PathLike object, not Response
19-Dec-21 19:33:37 - log - INFO - Model 0 deleted
19-Dec-21 19:33:37 - log - INFO - Model 1 deleted
19-Dec-21 19:33:40 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:40] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:45 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:45] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:50 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:50] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:33:55 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:33:55] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:00 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:00] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:05 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:05] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:10 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:10] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:15 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:15] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:20 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:20] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:25 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:25] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:30 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:30] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:35 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:35] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:40 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:40] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:45 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:45] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:50 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:50] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:34:55 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:34:55] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:00 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:00] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:05 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:05] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:10 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:10] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:15 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:15] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:20 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:20] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:25 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:25] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:30 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:30] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:35 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:35] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:40 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:40] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:45 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:45] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:50 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:50] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:35:55 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:35:55] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:00 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:00] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:05 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:05] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:10 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:10] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:15 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:15] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:20 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:20] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:25 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:25] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:30 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:30] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:35 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:35] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:40 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:40] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:45 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:45] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:50 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:50] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:36:55 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:36:55] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:00 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:00] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:05 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:05] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:10 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:10] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:10 - log - INFO - Preparing to train...
19-Dec-21 19:37:10 - log - INFO - Start training
19-Dec-21 19:37:15 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:15] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:20 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:20] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:25 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:25] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:29 - log - INFO - Training finished!
19-Dec-21 19:37:29 - log - INFO - Saving the model...
19-Dec-21 19:37:29 - log - INFO - Model 'trained' status changed to True
19-Dec-21 19:37:29 - werkzeug - INFO - 172.22.0.1 - - [19/Dec/2021 19:37:29] "PUT /api/ml_models/2/train HTTP/1.1" 200 -
19-Dec-21 19:37:30 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:30] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:32 - log - INFO - INFO: Prepating to retrain...
19-Dec-21 19:37:32 - log - INFO - Start retraining
19-Dec-21 19:37:32 - log - INFO - 0
19-Dec-21 19:37:35 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:35] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:40 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:40] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:42 - log - INFO - Retraining finished!
19-Dec-21 19:37:42 - app - ERROR - Exception on /api/ml_models/2/retrain [PUT]
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/prometheus_flask_exporter/__init__.py", line 656, in func
    response = f(*args, **kwargs)
  File "/usr/src/app/app/views.py", line 67, in put
    model = load(path)
  File "/usr/local/lib/python3.8/site-packages/joblib/numpy_pickle.py", line 577, in load
    with open(filename, 'rb') as f:
TypeError: expected str, bytes or os.PathLike object, not Response
19-Dec-21 19:37:42 - werkzeug - INFO - 172.22.0.1 - - [19/Dec/2021 19:37:42] "[35m[1mPUT /api/ml_models/2/retrain HTTP/1.1[0m" 500 -
19-Dec-21 19:37:45 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:45] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:47 - log - INFO - INFO: Prepating to retrain...
19-Dec-21 19:37:47 - log - INFO - Start retraining
19-Dec-21 19:37:47 - log - INFO - 0
19-Dec-21 19:37:50 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:50] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:37:55 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:37:55] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:00 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:00] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:00 - log - INFO - Retraining finished!
19-Dec-21 19:38:00 - app - ERROR - Exception on /api/ml_models/2/retrain [PUT]
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/prometheus_flask_exporter/__init__.py", line 656, in func
    response = f(*args, **kwargs)
  File "/usr/src/app/app/views.py", line 67, in put
    model = load(path)
  File "/usr/local/lib/python3.8/site-packages/joblib/numpy_pickle.py", line 577, in load
    with open(filename, 'rb') as f:
TypeError: expected str, bytes or os.PathLike object, not Response
19-Dec-21 19:38:00 - werkzeug - INFO - 172.22.0.1 - - [19/Dec/2021 19:38:00] "[35m[1mPUT /api/ml_models/2/retrain HTTP/1.1[0m" 500 -
19-Dec-21 19:38:05 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:05] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:10 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:10] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:15 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:15] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:20 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:20] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:25 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:25] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:30 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:30] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:35 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:35] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:40 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:40] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:44 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:44] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:49 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:49] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:54 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:54] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:38:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:38:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:02 - log - INFO - INFO: Prepating to retrain...
19-Dec-21 19:39:02 - log - INFO - Start retraining
19-Dec-21 19:39:02 - log - INFO - 0
19-Dec-21 19:39:05 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:05] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:10 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:10] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:16 - log - INFO - Retraining finished!
19-Dec-21 19:39:16 - app - ERROR - Exception on /api/ml_models/2/retrain [PUT]
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/prometheus_flask_exporter/__init__.py", line 656, in func
    response = f(*args, **kwargs)
  File "/usr/src/app/app/views.py", line 67, in put
    log.info(path)
  File "/usr/local/lib/python3.8/site-packages/joblib/numpy_pickle.py", line 577, in load
    with open(filename, 'rb') as f:
TypeError: expected str, bytes or os.PathLike object, not Response
19-Dec-21 19:39:16 - werkzeug - INFO - 172.22.0.1 - - [19/Dec/2021 19:39:16] "[35m[1mPUT /api/ml_models/2/retrain HTTP/1.1[0m" 500 -
19-Dec-21 19:39:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:29 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:29] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:34 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:34] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:39 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:39] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:44 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:44] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:49 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:49] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:54 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:54] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:39:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:39:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:04 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:04] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:09 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:09] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:29 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:29] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:34 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:34] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:39 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:39] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:44 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:44] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:49 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:49] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:54 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:54] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:40:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:40:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:04 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:04] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:09 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:09] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:29 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:29] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:34 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:34] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:39 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:39] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:44 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:44] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:49 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:49] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:54 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:54] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:41:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:41:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:04 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:04] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:09 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:09] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:29 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:29] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:34 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:34] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:39 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:39] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:44 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:44] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:49 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:49] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:54 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:54] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:42:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:42:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:04 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:04] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:09 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:09] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:29 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:29] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:34 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:34] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:39 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:39] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:44 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:44] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:49 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:49] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:54 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:54] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:43:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:43:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:04 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:04] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:06 - log - INFO - INFO: Prepating to retrain...
19-Dec-21 19:44:06 - log - INFO - Start retraining
19-Dec-21 19:44:06 - log - INFO - 0
19-Dec-21 19:44:09 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:09] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:22 - log - INFO - Retraining finished!
19-Dec-21 19:44:22 - app - ERROR - Exception on /api/ml_models/2/retrain [PUT]
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/prometheus_flask_exporter/__init__.py", line 656, in func
    response = f(*args, **kwargs)
  File "/usr/src/app/app/views.py", line 67, in put
    log.info(path)
  File "/usr/local/lib/python3.8/site-packages/joblib/numpy_pickle.py", line 577, in load
    with open(filename, 'rb') as f:
TypeError: expected str, bytes or os.PathLike object, not Response
19-Dec-21 19:44:22 - werkzeug - INFO - 172.22.0.1 - - [19/Dec/2021 19:44:22] "[35m[1mPUT /api/ml_models/2/retrain HTTP/1.1[0m" 500 -
19-Dec-21 19:44:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:29 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:29] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:34 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:34] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:39 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:39] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:44 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:44] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:49 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:49] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:54 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:54] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:44:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:44:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:04 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:04] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:09 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:09] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:29 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:29] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:34 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:34] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:39 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:39] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:44 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:44] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:49 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:49] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:54 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:54] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:45:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:45:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:01 - log - INFO - INFO: Prepating to retrain...
19-Dec-21 19:46:01 - log - INFO - Start retraining
19-Dec-21 19:46:01 - log - INFO - 0
19-Dec-21 19:46:04 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:04] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:09 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:09] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:17 - log - INFO - Retraining finished!
19-Dec-21 19:46:17 - app - ERROR - Exception on /api/ml_models/2/retrain [PUT]
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/prometheus_flask_exporter/__init__.py", line 656, in func
    response = f(*args, **kwargs)
  File "/usr/src/app/app/views.py", line 67, in put
    log.info(path)
  File "/usr/local/lib/python3.8/site-packages/joblib/numpy_pickle.py", line 577, in load
    with open(filename, 'rb') as f:
TypeError: expected str, bytes or os.PathLike object, not Response
19-Dec-21 19:46:17 - werkzeug - INFO - 172.22.0.1 - - [19/Dec/2021 19:46:17] "[35m[1mPUT /api/ml_models/2/retrain HTTP/1.1[0m" 500 -
19-Dec-21 19:46:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:29 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:29] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:34 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:34] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:39 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:39] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:44 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:44] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:49 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:49] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:54 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:54] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:46:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:46:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:04 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:04] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:09 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:09] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:24 - log - INFO - INFO: Prepating to retrain...
19-Dec-21 19:47:24 - log - INFO - Start retraining
19-Dec-21 19:47:24 - log - INFO - 0
19-Dec-21 19:47:30 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:30] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:34 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:34] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:39 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:39] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:45 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:45] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:50 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:50] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:55 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:55] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:47:59 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:47:59] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:48:04 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:48:04] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:48:09 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:48:09] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:48:14 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:48:14] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:48:17 - log - INFO - Retraining finished!
19-Dec-21 19:48:18 - app - ERROR - Exception on /api/ml_models/2/retrain [PUT]
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/prometheus_flask_exporter/__init__.py", line 656, in func
    response = f(*args, **kwargs)
  File "/usr/src/app/app/views.py", line 67, in put
    log.info(path)
  File "/usr/local/lib/python3.8/site-packages/joblib/numpy_pickle.py", line 577, in load
    with open(filename, 'rb') as f:
TypeError: expected str, bytes or os.PathLike object, not Response
19-Dec-21 19:48:18 - werkzeug - INFO - 172.22.0.1 - - [19/Dec/2021 19:48:18] "[35m[1mPUT /api/ml_models/2/retrain HTTP/1.1[0m" 500 -
19-Dec-21 19:48:19 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:48:19] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:48:24 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:48:24] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:48:30 - werkzeug - INFO - 172.22.0.4 - - [19/Dec/2021 19:48:30] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:01 - log - INFO - http://mlflow:5000/
19-Dec-21 19:53:01 - urllib3.connectionpool - WARNING - Retrying (Retry(total=4, connect=4, read=5, redirect=5, status=5)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f1230cae070>: Failed to establish a new connection: [Errno 111] Connection refused')': /api/2.0/mlflow/experiments/get-by-name?experiment_name=classification
19-Dec-21 19:53:05 - urllib3.connectionpool - WARNING - Retrying (Retry(total=3, connect=3, read=5, redirect=5, status=5)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f1230c99e20>: Failed to establish a new connection: [Errno 111] Connection refused')': /api/2.0/mlflow/experiments/get-by-name?experiment_name=classification
19-Dec-21 19:53:05 - werkzeug - WARNING -  * Running on all addresses.
   WARNING: This is a development server. Do not use it in a production deployment.
19-Dec-21 19:53:05 - werkzeug - INFO -  * Running on http://172.23.0.2:8080/ (Press CTRL+C to quit)
19-Dec-21 19:53:08 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:08] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:13 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:13] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:18 - log - INFO - Preparing to train...
19-Dec-21 19:53:18 - log - INFO - Start training
19-Dec-21 19:53:18 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:18] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:23 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:23] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:26 - log - INFO - Training finished!
19-Dec-21 19:53:26 - log - INFO - Saving the model...
19-Dec-21 19:53:26 - log - INFO - Model 'trained' status changed to True
19-Dec-21 19:53:26 - werkzeug - INFO - 172.23.0.1 - - [19/Dec/2021 19:53:26] "PUT /api/ml_models/2/train HTTP/1.1" 200 -
19-Dec-21 19:53:28 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:28] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:33 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:33] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:36 - log - INFO - Prepating to retrain...
19-Dec-21 19:53:36 - log - INFO - Start retraining
19-Dec-21 19:53:36 - log - INFO - 0
19-Dec-21 19:53:36 - log - INFO - {'X': [[3, 2, 1], [1, 2, 3]], 'y': [0, 1], 'num': 0}
19-Dec-21 19:53:38 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:38] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:41 - log - INFO - ./app/models/model_0.joblib
19-Dec-21 19:53:41 - log - INFO - Retraining finished!
19-Dec-21 19:53:41 - app - ERROR - Exception on /api/ml_models/2/retrain [PUT]
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/prometheus_flask_exporter/__init__.py", line 656, in func
    response = f(*args, **kwargs)
  File "/usr/src/app/app/views.py", line 67, in put
    model = load(path)
  File "/usr/local/lib/python3.8/site-packages/joblib/numpy_pickle.py", line 577, in load
    with open(filename, 'rb') as f:
TypeError: expected str, bytes or os.PathLike object, not Response
19-Dec-21 19:53:41 - werkzeug - INFO - 172.23.0.1 - - [19/Dec/2021 19:53:41] "[35m[1mPUT /api/ml_models/2/retrain HTTP/1.1[0m" 500 -
19-Dec-21 19:53:43 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:43] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:48 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:48] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:53 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:53] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:53:58 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:53:58] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:03 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:03] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:08 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:08] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:13 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:13] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:18 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:18] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:23 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:23] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:28 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:28] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:33 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:33] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:38 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:38] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:43 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:43] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:48 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:48] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:53 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:53] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:54:58 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:54:58] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:03 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:03] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:08 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:08] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:13 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:13] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:18 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:18] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:23 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:23] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:28 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:28] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:33 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:33] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:38 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:38] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:43 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:43] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:48 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:48] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:53 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:53] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:55:58 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:55:58] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:03 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:03] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:08 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:08] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:13 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:13] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:15 - log - INFO - Prepating to retrain...
19-Dec-21 19:56:15 - log - INFO - Start retraining
19-Dec-21 19:56:15 - log - INFO - 0
19-Dec-21 19:56:15 - log - INFO - {'X': [[3, 2, 1], [1, 2, 3]], 'y': [0, 1], 'num': 0}
19-Dec-21 19:56:18 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:18] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:19 - log - INFO - ./app/models/model_0.joblib
19-Dec-21 19:56:20 - log - INFO - Retraining finished!
19-Dec-21 19:56:20 - app - ERROR - Exception on /api/ml_models/2/retrain [PUT]
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/site-packages/prometheus_flask_exporter/__init__.py", line 656, in func
    response = f(*args, **kwargs)
  File "/usr/src/app/app/views.py", line 67, in put
    model = load(path)
  File "/usr/local/lib/python3.8/site-packages/joblib/numpy_pickle.py", line 577, in load
    with open(filename, 'rb') as f:
TypeError: expected str, bytes or os.PathLike object, not Response
19-Dec-21 19:56:20 - werkzeug - INFO - 172.23.0.1 - - [19/Dec/2021 19:56:20] "[35m[1mPUT /api/ml_models/2/retrain HTTP/1.1[0m" 500 -
19-Dec-21 19:56:23 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:23] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:28 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:28] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:33 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:33] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:38 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:38] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:43 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:43] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:48 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:48] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:53 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:53] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:56:58 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:56:58] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:03 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:03] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:08 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:08] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:13 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:13] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:18 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:18] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:22 - log - INFO - http://mlflow:5000/
19-Dec-21 19:57:22 - log - INFO - Trained models = {1: {}, 2: {}}
19-Dec-21 19:57:22 - log - INFO - MODEL id = 1 CLASS = logreg TRAINED = False
19-Dec-21 19:57:22 - log - INFO - MODEL id = 2 CLASS = tree TRAINED = False
19-Dec-21 19:57:22 - log - INFO - Preparing to train...
19-Dec-21 19:57:22 - log - INFO - Start training
19-Dec-21 19:57:23 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:23] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:27 - log - INFO - Training finished!
19-Dec-21 19:57:27 - log - INFO - Saving the model...
19-Dec-21 19:57:27 - log - INFO - Model 'trained' status changed to True
19-Dec-21 19:57:27 - log - INFO - Preparing to train...
19-Dec-21 19:57:27 - log - INFO - Start training
19-Dec-21 19:57:28 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:28] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:31 - log - INFO - Training finished!
19-Dec-21 19:57:31 - log - INFO - Saving the model...
19-Dec-21 19:57:31 - log - INFO - Model 'trained' status changed to True
19-Dec-21 19:57:31 - log - INFO - Here is the prediction: {'Prediction': '[0]'} for 1
19-Dec-21 19:57:31 - log - INFO - Here is the prediction: {'Prediction': '[0]'} for 2
19-Dec-21 19:57:31 - log - INFO - Prepating to retrain...
19-Dec-21 19:57:31 - log - INFO - Start retraining
19-Dec-21 19:57:31 - log - INFO - 0
19-Dec-21 19:57:31 - log - INFO - {'X': [[1, 2, 3], [3, 2, 1]], 'num': '0', 'y': [0, 1]}
19-Dec-21 19:57:33 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:33] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:36 - log - INFO - ./app/models/model_0.joblib
19-Dec-21 19:57:36 - log - INFO - Retraining finished!
19-Dec-21 19:57:36 - log - INFO - Saving the model...
19-Dec-21 19:57:36 - log - INFO - Model 'trained' status changed to True
19-Dec-21 19:57:36 - log - INFO - Prepating to retrain...
19-Dec-21 19:57:36 - log - INFO - Start retraining
19-Dec-21 19:57:36 - log - INFO - 1
19-Dec-21 19:57:36 - log - INFO - {'X': [[1, 2, 3], [3, 2, 1]], 'num': '1', 'y': [0, 1]}
19-Dec-21 19:57:38 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:38] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:40 - log - INFO - ./app/models/model_1.joblib
19-Dec-21 19:57:40 - log - INFO - Retraining finished!
19-Dec-21 19:57:40 - log - INFO - Saving the model...
19-Dec-21 19:57:40 - log - INFO - Model 'trained' status changed to True
19-Dec-21 19:57:40 - log - INFO - Model 0 deleted
19-Dec-21 19:57:40 - log - INFO - Model 1 deleted
19-Dec-21 19:57:43 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:43] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:48 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:48] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:53 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:53] "GET /metrics HTTP/1.1" 200 -
19-Dec-21 19:57:58 - werkzeug - INFO - 172.23.0.4 - - [19/Dec/2021 19:57:58] "GET /metrics HTTP/1.1" 200 -
